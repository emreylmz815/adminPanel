@model WebApplication1.Models.CRM.ViewModels.QuoteFormViewModel
@Html.ValidationSummary(true)
<div class="form-group">
    @Html.LabelFor(m => m.Quote.CompanyId)
    @Html.DropDownListFor(m => m.Quote.CompanyId, new SelectList(Model.Companies, "Id", "Name", Model.Quote.CompanyId), "Select company", new { @class = "form-control" })
</div>
<div class="form-group">
    @Html.LabelFor(m => m.Quote.Title)
    @Html.TextBoxFor(m => m.Quote.Title, new { @class = "form-control" })
</div>
<div class="row">
    <div class="col-md-4">
        @Html.LabelFor(m => m.Quote.TaxRate)
        @Html.TextBoxFor(m => m.Quote.TaxRate, new { @class = "form-control" })
    </div>
    <div class="col-md-4">
        @Html.LabelFor(m => m.Quote.DiscountRate)
        @Html.TextBoxFor(m => m.Quote.DiscountRate, new { @class = "form-control" })
    </div>
    <div class="col-md-4">
        @Html.LabelFor(m => m.Quote.CostTotal)
        @Html.TextBoxFor(m => m.Quote.CostTotal, new { @class = "form-control" })
    </div>
</div>
<div class="form-group">
    @Html.LabelFor(m => m.Quote.ExpiresAt)
    @Html.TextBoxFor(m => m.Quote.ExpiresAt, "{0:yyyy-MM-dd}", new { @class = "form-control", type = "date" })
</div>
<div class="form-group">
    @Html.LabelFor(m => m.Quote.Notes)
    @Html.TextAreaFor(m => m.Quote.Notes, new { @class = "form-control" })
</div>
<h4>Lines</h4>
<table class="table">
    <thead>
        <tr>
            <th>Name</th>
            <th>Quantity</th>
            <th>Unit Price</th>
            <th>Cost</th>
        </tr>
    </thead>
    <tbody>
    @for (int i = 0; i < Model.Quote.Lines.Count; i++)
    {
        <tr>
            <td>@Html.TextBoxFor(m => m.Quote.Lines[i].Name, new { @class = "form-control" })</td>
            <td>@Html.TextBoxFor(m => m.Quote.Lines[i].Qty, new { @class = "form-control" })</td>
            <td>@Html.TextBoxFor(m => m.Quote.Lines[i].UnitPrice, new { @class = "form-control" })</td>
            <td>@Html.TextBoxFor(m => m.Quote.Lines[i].LineCost, new { @class = "form-control" })</td>
        </tr>
    }
    </tbody>
</table>
